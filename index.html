<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="description" content="Teclado hexagonal interactivo para el sistema de 43 tonos de Harry Partch">
  <meta name="keywords" content="música microtonal, Harry Partch, 43 tonos, teclado hexagonal, Max/MSP">
  <meta name="author" content="Tu Nombre">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <title>Teclado Microtonal Harry Partch 43</title>
  <link rel="stylesheet" href="css/styles.css">
</head>

<body>
  <div class="header">
    <h1>Teclado Microtonal Harry Partch 43</h1>
    <p>Sistema de 43 tonos con afinación justa</p>
  </div>

  <div class="controls">
    <div class="control-group">
      <button id="octave-down">-8va</button>
      <button id="reset-octave">Reset Octava</button>
      <button id="octave-up">+8va</button>
    </div>

    <div class="control-group">
      <label for="limit-selector">Límites:</label>
      <select id="limit-selector">
        <option value="none">Seleccionar</option>
        <!-- Options will be populated by JS or hardcoded? 43 options is a lot to hardcode. -->
        <!-- I'll hardcode them since I can generate the string easily. -->
        <option value="0">Grado 0</option>
        <option value="1">Grado 1</option>
        <option value="2">Grado 2</option>
        <option value="3">Grado 3</option>
        <option value="4">Grado 4</option>
        <option value="5">Grado 5</option>
        <option value="6">Grado 6</option>
        <option value="7">Grado 7</option>
        <option value="8">Grado 8</option>
        <option value="9">Grado 9</option>
        <option value="10">Grado 10</option>
        <option value="11">Grado 11</option>
        <option value="12">Grado 12</option>
        <option value="13">Grado 13</option>
        <option value="14">Grado 14</option>
        <option value="15">Grado 15</option>
        <option value="16">Grado 16</option>
        <option value="17">Grado 17</option>
        <option value="18">Grado 18</option>
        <option value="19">Grado 19</option>
        <option value="20">Grado 20</option>
        <option value="21">Grado 21</option>
        <option value="22">Grado 22</option>
        <option value="23">Grado 23</option>
        <option value="24">Grado 24</option>
        <option value="25">Grado 25</option>
        <option value="26">Grado 26</option>
        <option value="27">Grado 27</option>
        <option value="28">Grado 28</option>
        <option value="29">Grado 29</option>
        <option value="30">Grado 30</option>
        <option value="31">Grado 31</option>
        <option value="32">Grado 32</option>
        <option value="33">Grado 33</option>
        <option value="34">Grado 34</option>
        <option value="35">Grado 35</option>
        <option value="36">Grado 36</option>
        <option value="37">Grado 37</option>
        <option value="38">Grado 38</option>
        <option value="39">Grado 39</option>
        <option value="40">Grado 40</option>
        <option value="41">Grado 41</option>
        <option value="42">Grado 42</option>
      </select>
    </div>

    <div class="control-group">
      <label for="scale-selector">Escala:</label>
      <select id="scale-selector">
        <option value="none">Ninguna</option>
        <optgroup label="Escalas Partch">
          <option value="otonality">Otonalidad (1-3-5-7-9-11)</option>
          <option value="utonality">Utonalidad (1/1-1/3-1/5-1/7-1/9-1/11)</option>
          <option value="major">Mayor</option>
          <option value="minor">Menor</option>
          <option value="chromatic">Cromática (43 tonos)</option>
        </optgroup>
        <optgroup label="Modos Griegos (Aproximados)">
          <option value="ionian">Jónico</option>
          <option value="dorian">Dórico</option>
          <option value="phrygian">Frigio</option>
          <option value="lydian">Lidio</option>
          <option value="mixolydian">Mixolidio</option>
          <option value="aeolian">Eólico</option>
          <option value="locrian">Locrio</option>
        </optgroup>
      </select>
    </div>

    <div class="control-group">
      <label>
        <input type="checkbox" id="combine-scales">
        Combinar escalas
      </label>
      <button id="clear-scales" style="background: #e74c3c;">Limpiar escalas</button>
      <button id="theme-toggle" aria-label="Cambiar tema">Modo: Oscuro</button>
    </div>

    <div class="control-group">
      <label for="base-frequency">Frecuencia Base:</label>
      <input type="number" id="base-frequency" min="200" max="600" step="0.1" value="392">
      <span>Hz</span>
    </div>
  </div>

  <div class="scale-combination" id="scale-combination" style="display: none;">
    <h4>Escalas combinadas:</h4>
    <div id="combined-scales-list"></div>
  </div>

  <div class="info-panel">
    <h3>Información en tiempo real</h3>

    <!-- Modo Monofonía -->
    <div class="info-section">
      <h4>Última nota tocada</h4>
      <div class="info-item">
        <strong>Nota:</strong> <span id="current-note">-</span>
      </div>
      <div class="info-item">
        <strong>Ratio:</strong> <span id="current-ratio">-</span>
      </div>
      <div class="info-item">
        <strong>Frecuencia:</strong> <span id="current-freq">-</span> Hz
      </div>
      <div class="info-item">
        <strong>Octava:</strong> <span id="current-octave">0</span>
      </div>
    </div>

    <!-- Modo Polifonía -->
    <div class="info-section polyphony-section">
      <h4>Polifonía Activa <span id="poly-count" class="poly-counter">0</span></h4>
      <div id="active-notes-container" class="active-notes-grid">
        <span class="no-notes-message">No hay notas activas</span>
      </div>
    </div>
  </div>

  <div class="keyboard-wrapper">
    <div class="keyboard-container" id="keyboard-container"></div>
  </div>

  <script src="js/config.js"></script>
  <script src="js/scales.js"></script>
  <script src="js/keyboard.js"></script>
  <script src="js/limits.js"></script>
  <script src="js/app.js"></script>
  <script src="js/theme.js"></script>
  <script src="microtonal-websocket-client.js"></script>
</body>

</html>